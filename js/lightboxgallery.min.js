!function(t){"use strict";t.fn.lightboxgallery=function(i){var e={showCounter:!0,showTitle:!0,showDescription:!0};this.each(function(){i&&t.extend(e,i);var a=this;(new function(){this.items=t(a).parent().children(),this.count=this.items.length-1,this.index=this.items.index(a),this.navPrev="",this.navNext="",this.loaded=!1,this.naturalWidth=0,this.naturalHeight=0,this.init=function(){this.modal(),this.goto(this.index);var i=this;this.navNext.on("click",function(t){t.preventDefault(),i.next()}),t(document).on("click",".lightboxgallery-image",function(t){t.preventDefault(),i.next()}),t(document).on("click",".lightboxgallery-modal-wrapper, .lightboxgallery-close",function(t){t.target===this&&(t.preventDefault(),i.close())}),t(document).on("keyup",function(t){39==t.keyCode&&(t.preventDefault(),i.next()),37==t.keyCode&&(t.preventDefault(),i.prev()),27==t.keyCode&&(t.preventDefault(),i.close())}),this.navPrev.on("click",function(t){t.preventDefault(),i.prev()}),t(window).on("resize",function(){var e=i.resize();t(".lightboxgallery-modal").css({width:e.width,height:e.height})})},this.modal=function(){t('<div id="lightboxgallery-modal" class="lightboxgallery-modal-wrapper"><a href="#" class="lightboxgallery-prev"><span></span></a><a href="#" class="lightboxgallery-next"><span></span></a><div class="lightboxgallery-modal"><a href="#" class="lightboxgallery-close lightboxgallery-hidden">&times;</a><div class="lightboxgallery-modal-body"></div></div></div>').appendTo(t("body").addClass("lightboxgallery-modal-open")),this.modal=t("#lightboxgallery-modal"),this.navNext=this.modal.find(".lightboxgallery-next"),this.navPrev=this.modal.find(".lightboxgallery-prev")},this.close=function(){this.index=0,this.loaded=!0,this.naturalWidth=0,this.naturalHeight=0,t("#lightboxgallery-modal").fadeOut(function(){t(this).remove()}),t(".lightboxgallery-modal").animate({width:100,height:100},300,function(){t(this).remove(),t("body").removeClass("lightboxgallery-modal-open")})},this.resize=function(){var i=t(window).width()-80,e=t(window).height()-80,a=0,l=this.naturalWidth,o=this.naturalHeight;return l>i&&(o*=a=i/l,l*=a),o>e&&(l*=a=e/o,o*=a),{width:l,height:o}},this.next=function(){this.index<this.count?this.index=this.index+1:this.index=0,this.goto(this.index)},this.prev=function(){this.index>0?this.index=this.index-1:this.index=this.count,this.goto(this.index)},this.goto=function(i){if(!1===this.loaded){var a=this,l=t(this.items[i]);a.loaded=!0,t(".lightboxgallery-modal-body").html('<div class="lightboxgallery-gallery-loading"></div>');var o=t("<img />").attr("src",l.attr("href")).on("load",function(){if(this.complete&&void 0!==this.naturalWidth&&0!=this.naturalWidth){a.naturalWidth=this.naturalWidth,a.naturalHeight=this.naturalHeight;var i=a.resize();t(".lightboxgallery-modal").animate({width:i.width,height:i.height},300,function(){var i='<div class="lightboxgallery-image-wrapper">';i+='<img class="lightboxgallery-image" src="'+o[0].src+'" alt="'+l.attr("data-alt")+'">',(e.showCounter||e.showTitle&&l.attr("data-title")||e.showDescription&&l.attr("data-desc"))&&(l.attr("data-title")||l.attr("data-description"))&&(i+='<div class="lightboxgallery-image-content">',e.showCounter&&(i+='<span class="lightboxgallery-gallery-stat">'+(a.index+1)+" of "+(a.count+1)+"</span>"),e.showTitle&&l.attr("data-title")&&(i+='<span class="lightboxgallery-image-title">'+l.attr("data-title")+"</span>"),e.showDescription&&l.attr("data-desc")&&(i+='<div class="lightboxgallery-image-description">'+l.attr("data-desc")+"</div>"),i+="</div>"),i+="</div>",t(".lightboxgallery-modal-body").html(i),a.modal.find(".lightboxgallery-close").removeClass("lightboxgallery-hidden"),a.loaded=!1})}else;})}}}).init()})}}(jQuery);